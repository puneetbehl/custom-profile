buildscript {
    repositories {
        mavenLocal()
        maven { url "https://repo.grails.org/grails/core" }
    }
    dependencies {
        classpath "org.grails:grails-gradle-plugin:${project.grailsGradlePluginVersion}"
    }
}

apply plugin: "org.grails.grails-profile"
apply plugin: "maven-publish"

group 'org.grails.profiles'
version '1.0.0'

repositories {
    mavenLocal()
    maven { url "https://repo.grails.org/grails/core" }
}  

dependencies {
    profileRuntimeOnly "org.grails.profiles:web:5.0.5"
}

publishing {
    publications {
        maven(MavenPublication) {
            groupId = 'org.grails.profiles'
            artifactId = 'helloprofile'
            version = '1.0.0'

            def jar = project.tasks.findByName("jar")
            if (jar != null) {
                artifact project.tasks.findByName("jar")
            }

            def sourcesJar = tasks.findByName("sourcesJar")
            if (sourcesJar != null) {
                artifact sourcesJar
            }
            def javadocJar = tasks.findByName("javadocJar")
            if (javadocJar != null) {
                artifact javadocJar
            }

        }
    }
}